<!DOCTYPE html>
<html>

<head>
    <meta lang="FR">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Preflop</title>
    <style>
        body {
            background-color: #1e1e1e;
            color: #ffffff;
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 20px;
            text-align: center;
            background-color: #282828;
            border-radius: 5px;
        }

        h1 {
            font-size: 24px;
            margin-bottom: 20px;
        }

        .cardcode-form {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .cardcode-input {
            width: 40px;
            height: 40px;
            margin-right: 10px;
            text-align: center;
            background-color: #333333;
            color: #ffffff;
            border: none;
        }

        .cardcode-input.uppercase {
            text-transform: uppercase;
        }

        .cardcode-input.lowercase {
            text-transform: lowercase;
        }

        .responsive-image {
            max-width: 100%;
            height: auto;
            margin-top: 20px;
        }

        p {
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Calculateur de pourcentage de victoire</h1>
        <form class="cardcode-form">
            <input class="cardcode-input uppercase" type="text" id="a" minlength="1" maxlength="1"
                oninput="focusNextInput(this)" onkeydown="handleBackspace(event)" required placeholder="A">
            <input class="cardcode-input uppercase" type="text" id="b" minlength="1" maxlength="1"
                oninput="checkEquality(this)" onkeydown="handleBackspace(event)" placeholder="Q" required>
            <input class="cardcode-input lowercase" type="text" id="c" minlength="0" maxlength="1"
                oninput="calculerPourcentage()" onkeydown="handleBackspace(event)" placeholder="s">
        </form>
        <p id="sentence"></p>
        <img class="responsive-image"
            src="https://image.noelshack.com/fichiers/2023/22/2/1685482116-poker-2-darkmode.png" alt="Example Image">
    </div>

    <script>

        document.querySelector(".cardcode-form").addEventListener("submit", function (event) {
            event.preventDefault();
            calculerPourcentage();
        });

        var combinaisons = [
            { "combinaison": "AA", "pourcentage": 4 },
            { "combinaison": "AKs", "pourcentage": 4 },
            { "combinaison": "AQs", "pourcentage": 4 },
            { "combinaison": "AKo", "pourcentage": 4 },
            { "combinaison": "KK", "pourcentage": 4 },
            { "combinaison": "QQ", "pourcentage": 4 },
            { "combinaison": "JJ", "pourcentage": 4 },
            { "combinaison": "TT", "pourcentage": 4 },
            { "combinaison": "99", "pourcentage": 4 },

            { "combinaison": "AJs", "pourcentage": 8 },
            { "combinaison": "ATs", "pourcentage": 8 },
            { "combinaison": "KQs", "pourcentage": 8 },
            { "combinaison": "KJs", "pourcentage": 8 },
            { "combinaison": "KTs", "pourcentage": 8 },
            { "combinaison": "AQo", "pourcentage": 8 },
            { "combinaison": "QJs", "pourcentage": 8 },
            { "combinaison": "AJo", "pourcentage": 8 },
            { "combinaison": "88", "pourcentage": 8 },

            { "combinaison": "A9s", "pourcentage": 12 },
            { "combinaison": "KQo", "pourcentage": 12 },
            { "combinaison": "QTs", "pourcentage": 12 },
            { "combinaison": "KJo", "pourcentage": 12 },
            { "combinaison": "JTs", "pourcentage": 12 },
            { "combinaison": "ATo", "pourcentage": 12 },
            { "combinaison": "77", "pourcentage": 12 },

            { "combinaison": "A8s", "pourcentage": 20 },
            { "combinaison": "A7s", "pourcentage": 20 },
            { "combinaison": "A6s", "pourcentage": 20 },
            { "combinaison": "A5s", "pourcentage": 20 },
            { "combinaison": "A4s", "pourcentage": 20 },
            { "combinaison": "K9s", "pourcentage": 20 },
            { "combinaison": "K8s", "pourcentage": 20 },
            { "combinaison": "Q9s", "pourcentage": 20 },
            { "combinaison": "QJo", "pourcentage": 20 },
            { "combinaison": "J9s", "pourcentage": 20 },
            { "combinaison": "KTo", "pourcentage": 20 },
            { "combinaison": "QTo", "pourcentage": 20 },
            { "combinaison": "JTo", "pourcentage": 20 },
            { "combinaison": "T9s", "pourcentage": 20 },
            { "combinaison": "A9o", "pourcentage": 20 },
            { "combinaison": "66", "pourcentage": 20 },

            { "combinaison": "A3s", "pourcentage": 30 },
            { "combinaison": "A2s", "pourcentage": 30 },
            { "combinaison": "K7s", "pourcentage": 30 },
            { "combinaison": "K6s", "pourcentage": 30 },
            { "combinaison": "K5s", "pourcentage": 30 },
            { "combinaison": "Q8s", "pourcentage": 30 },
            { "combinaison": "Q7s", "pourcentage": 30 },
            { "combinaison": "J8s", "pourcentage": 30 },
            { "combinaison": "T8s", "pourcentage": 30 },
            { "combinaison": "K9o", "pourcentage": 30 },
            { "combinaison": "Q9o", "pourcentage": 30 },
            { "combinaison": "J9o", "pourcentage": 30 },
            { "combinaison": "98s", "pourcentage": 30 },
            { "combinaison": "A8o", "pourcentage": 30 },
            { "combinaison": "A7o", "pourcentage": 30 },
            { "combinaison": "A5o", "pourcentage": 30 },
            { "combinaison": "55", "pourcentage": 30 },
        ];

        function capitalize(input) {
            this.value = this.value.toUpperCase();
        }

        function focusNextInput(input) {
            var maxLength = parseInt(input.getAttribute("maxlength"));
            var currentLength = input.value.length;

            if (currentLength >= maxLength) {
                var nextInput = input.nextElementSibling;
                if (nextInput !== null) {
                    nextInput.focus();
                }
            }
        }

        function handleBackspace(event) {
            var previousInput = event.target.previousElementSibling;
            if (event.key === "Backspace" && event.target.value === "" && previousInput !== null) {
                previousInput.focus();
            }
            if (event.key === "Enter") {
                calculerPourcentage();
            }
        }

        function checkEquality(input) {
            var inputC = document.getElementById("c");
            inputC.removeAttribute("disabled");

            var inputA = document.getElementById("a").value;
            var inputB = document.getElementById("b").value;

            if (inputA === inputB) {
                inputC.setAttribute("disabled", true);
                calculerPourcentage();
            } else {
                focusNextInput(input);
            }
        }

        function calculerPourcentage() {
            var combinaison = document.getElementById("a").value.toUpperCase() + document.getElementById("b").value.toUpperCase();
            if (document.getElementById("c").value != null) {
                combinaison = combinaison + document.getElementById("c").value.toLowerCase();
            }

            // Recherche du pourcentage de victoire dans le tableau "combinaisons"
            var pourcentage = null;
            for (var i = 0; i < combinaisons.length; i++) {
                if (combinaisons[i].combinaison.toUpperCase() === combinaison.toUpperCase()) {
                    pourcentage = combinaisons[i].pourcentage;
                    break;
                }
            }

            // Affichage du rÃ©sultat
            var sentence = document.getElementById("sentence");
            if (pourcentage !== null) {
                sentence.innerText = combinaison + ": " + pourcentage + "%";
            } else {
                sentence.color = "red";
                sentence.innerText = "Combinaison invalide";
            }
        }
    </script>
</body>

</html>
